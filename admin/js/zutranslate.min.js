!function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function t(t){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?e(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return o(e)||i(e,t)||u(e,t)||d()}function r(e){return l(e)||s(e)||u(e)||p()}function l(e){if(Array.isArray(e))return c(e)}function o(e){if(Array.isArray(e))return e}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function i(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a=[],r=!0,l=!1,o,s;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw s}}return a}}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e){var t=W("Content attributes:","zu-translate");return ae("".concat(t,"`").concat(B(j(e),"` `"),"`"))}function h(e,t,n){var a=/^(?!\d)[\w$]+\/(?!\d)[\w$]+$/,r=P(N(t,",")),l=a.test(e)?null:{msg:"errName",value:R(e)?null:e};return null===l&&T(n,e)&&(l={msg:"errDups",value:e}),null===l&&0===r.length&&(l={msg:"errAtts",value:null}),{name:e,atts:r,error:l}}var m=wp.i18n.__,g=wp.zukit.utils.simpleMarkdown,f,y=(0,wp.zukit.render.externalDataSettings)("zutranslate",{}),w=y.disabled,k=y.qtxlink,z=m("This plugin only *complements* the functionality of the **qTranslate-XT** plugin.\nThe [qTranslate-XT]($link1) version `3.10 or above` should be installed and activated (now it **was not found** among active plugins).","zu-translate"),v={gutenberg:{label:m("Support WordPress Block Editor","zu-translate"),help:m('Settings and list of supported blocks see below in the "**Block Editor Support**" section.',"zu-translate")},flags:{label:m("Show flags in buttons","zu-translate"),help:m("Display country flag on language switching buttons in admin mode.","zu-translate")},appearance:{label:m("Custom button appearance","zu-translate"),help:m("Change the appearance of the buttons for language switching in admin mode.","zu-translate")},large:{label:m("Large custom button size","zu-translate"),help:m("Enlarge the size of the buttons (*for those who prefer more*).","zu-translate"),depends:"appearance"},list:{label:m('Add "Language Switcher" to post/pages list',"zu-translate"),help:m("Ability to switch language on a list of posts/pages and support for **Quick Edit**.","zu-translate")}},E={ls_frontend:{label:m("Swither on Front-End?","zu-translate"),help:m("???","zu-translate")},ls_menu:{label:m("Swither in Menu?","zu-translate"),help:m("The switcher should be added in menu to be displayed.","zu-translate")},ls_display:{label:m("Display in Menu","zu-translate"),help:m("How the language will be dispayed in menu","zu-translate")}},_={note:m("Only blocks **known to this plugin** will support language switching in the **Block Editor**.\nTo disable the block support - turn off the **checkbox** in front of the block name. You can also add other blocks - for this you need to know the **internal** name of the block (which includes the `namespace`) and the name of the attribute/attributes that contain the **content** of the block (*what requires translation*). You can learn these names by looking at the source code of the plugin/themes where these blocks are defined or by contacting the developer.\nUnfortunately, a *simpler* method has not yet been found.","zu-translate"),blockTitle:m("Supported blocks","zu-translate"),compress:m("Compress language data to reduce page size","zu-translate"),toggles:["sync","initial","session","unsaved","nobackups"],sync:{label:m("Synchronize language switching","zu-translate"),help:m("Switching a language in one block will lead to language switching in all editable blocks.","zu-translate")},initial:{label:m("Open language panel","zu-translate"),help:m("Whether or not the language switching panel will start open.","zu-translate")},session:{label:m("Support session language","zu-translate"),help:m("During one session, language switching on different pages will be synchronized.","zu-translate")},unsaved:{label:m("Switch without changes","zu-translate"),help:m("Do not consider language switching as **unsaved** changes for the current edit session.","zu-translate")},nobackups:{label:m('Remove Block Editor "backups"',"zu-translate"),help:m("Removes Wordpress *autosaves* and *backups* notices which could be very annoying.\nYou should understand what you are doing.","zu-translate")},custom:{nameLabel:m("Block name","zu-translate"),nameHelp:m("The block name must contain a **namespace** and a **slash**, for example, `core/quote`","zu-translate"),attsLabel:m("Attribute names","zu-translate"),attsInput:m("Enter the name of the attribute","zu-translate"),attsInputHelp:m("Usually the attribute has the name `content`, but it is not always so (see note above)","zu-translate"),addBlock:m("Add block","zu-translate")},resetAll:m("Reset Block Editor Settings","zu-translate"),errName:m("It does not look like a valid **block name**. Maybe you forgot the `namespace`? ","zu-translate"),errAtts:m("You need to specify at least one **attribute** for translation.","zu-translate"),errDups:m("Duplicates are not allowed. Are you mistaken in the name of the block?","zu-translate")},O,S={options:v,panels:{gutenberg:{value:!0,label:m("Block Editor Support","zu-translate"),depends:"gutenberg"},switcher:{value:!1,label:m("Language Switcher","zu-translate")}},switcher:E,gutenberg:_,inacive:!!w&&g(z,{br:!0,links:k})},A=lodash,R=A.isEmpty,j=A.castArray,C=A.get,T=A.has,x=A.map,D=A.mapKeys,B=A.join,N=A.split,P=A.compact,I=A.includes,L=A.without,H=A.pick,M=A.omit,q=A.keys,W=wp.i18n.__,Y=wp.components,F=Y.Button,U=Y.CheckboxControl,Z=wp.element,K=Z.useCallback,X=Z.useState,Q=wp.zukit.render.toggleOption,G=wp.zukit.components,J=G.ZukitDivider,V=G.ZukitPanel,ee=G.AdvTextControl,te=G.ListInputControl,ne=wp.zukit.utils,ae=ne.simpleMarkdown,re=ne.getExternalData,le=ne.messageWithError,oe=wp.zukit.jq.scrollTop,se="blockeditor",ie=re("supported",{}),ue=function e(l){var o=l.data,s=l.options,i=l.updateOptions,u=l.resetOptions,c=l.ajaxAction,p,d=l.noticeOperations.createNotice,m=C(s,se,{}),g=m.excluded,f=m.custom,y,w=a(X(""),2),k=w[0],z=w[1],v,E=a(X(""),2),_=E[0],O=E[1],S,A=a(X(ie),2),j=A[0],T=A[1],B=K((function(){u(se,(function(){return c("zutranslate_reset_supported",(function(e){T(e),oe()}))}))}),[u,c]),N=K((function(e){var t=D(e,(function(e,t){return"".concat(se,".").concat(t)}));i(t)}),[i]),P=K((function(e,t){N(e?{excluded:L(g,t)}:{excluded:[].concat(r(g),[t])})}),[g,N]),W=K((function(){var e=h(k,_,f),a=e.name,r=e.atts,l=e.error;null===l?(N({custom:t(t({},f),{},n({},a,{title:a,atts:r}))}),z(""),O("")):(d({status:"warning",content:le(o[l.msg],l.value),isDismissible:!0,__unstableHTML:!0}),oe())}),[f,k,_,N,d,o]),Y=M(j,q(f)),Z=!R(f);return React.createElement(V,{id:"gutenberg",options:s,initialOpen:!0},Q(H(o,o.toggles),m,N),React.createElement("h3",{className:"__subtitle"},o.blockTitle),React.createElement("div",{className:"__supported"},x(Y,(function(e,t){var n=e.title,a=e.atts;return React.createElement(U,{key:t,label:n,help:b(a),checked:!I(g,t),onChange:function e(n){return P(n,t)}})}))),Z&&React.createElement(React.Fragment,null,React.createElement(J,{bottomHalf:!0,size:2}),React.createElement("div",{className:"__supported"},x(f,(function(e,t){var n=e.title,a=e.atts;return React.createElement(U,{key:t,label:n,help:b(a),checked:!I(g,t),onChange:function e(n){return P(n,t)}})})))),React.createElement("div",{className:"__note"},ae(o.note,{br:!0})),React.createElement("div",{className:"__custom"},React.createElement(ee,{isSideBySide:!0,label:o.custom.nameLabel,help:ae(o.custom.nameHelp,{br:!0}),value:k,onChange:z,onKeyEnter:W}),React.createElement(te,{isOpen:!0,isNotEmptyLabel:!0,isSideBySide:!0,strict:/^(?!\d)[\w$]+$/,label:o.custom.attsLabel,inputLabel:ae(o.custom.attsInput,{br:!0}),inputHelp:ae(o.custom.attsInputHelp,{br:!0}),value:_,onChange:O}),React.createElement(F,{isSecondary:!0,className:"__plugin_actions __auto green",label:o.custom.addBlock,icon:"plus-alt",onClick:W},o.custom.addBlock)),React.createElement("div",{className:"__flex __right"},React.createElement(F,{isSecondary:!0,className:"__plugin_actions __auto magenta",label:o.resetAll,icon:"image-rotate",onClick:B},o.resetAll)))},ce=wp.zukit.render,pe=ce.renderPage,de=ce.toggleOption,be=wp.zukit.components.ZukitPanel,he=S.options,me=S.gutenberg,ge=S.inacive,fe=function e(t){var n=t.title,a=t.options,r=t.updateOptions,l=t.resetOptions,o=t.ajaxAction,s=t.noticeOperations;return ge?React.createElement("div",{className:"__note"},ge):React.createElement(React.Fragment,null,React.createElement(be,{title:n},de(he,a,r)),React.createElement(ue,{data:me,options:a,updateOptions:r,resetOptions:l,noticeOperations:s,ajaxAction:o}))};pe("zutranslate",{edit:fe,panels:S.panels})}();