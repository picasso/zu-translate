!function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function t(t){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?e(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return l(e)||i(e,t)||u(e,t)||d()}function r(e){return o(e)||s(e)||u(e)||p()}function o(e){if(Array.isArray(e))return c(e)}function l(e){if(Array.isArray(e))return e}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function i(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a=[],r=!0,o=!1,l,s;try{for(n=n.call(e);!(r=(l=n.next()).done)&&(a.push(l.value),!t||a.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return a}}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e){var t=Y("Content attributes:","zu-translate");return ae("".concat(t,"`").concat(B(j(e),"` `"),"`"))}function m(e,t,n){var a=/^(?!\d)[\w$]+\/(?!\d)[\w$]+$/,r=P(N(t,",")),o=a.test(e)?null:{msg:"errName",value:R(e)?null:e};return null===o&&T(n,e)&&(o={msg:"errDups",value:e}),null===o&&0===r.length&&(o={msg:"errAtts",value:null}),{name:e,atts:r,error:o}}var h=wp.i18n.__,g=wp.zukit.utils.simpleMarkdown,f,y=(0,wp.zukit.render.externalDataSettings)("zutranslate",{}),w=y.disabled,k=y.qtxlink,z=h("This plugin only *complements* the functionality of the **qTranslate-XT** plugin.\nThe [qTranslate-XT]($link1) version `3.10 or above` should be installed and activated (now it **was not found** among active plugins).","zu-translate"),v={gutenberg:{label:h("Support WordPress Block Editor","zu-translate"),help:h('Settings and list of supported blocks see below in the "**Block Editor Support**" section.',"zu-translate")},flags:{label:h("Show flags in buttons","zu-translate"),help:h("Display country flag on language switching buttons in admin mode.","zu-translate")},appearance:{label:h("Custom button appearance","zu-translate"),help:h("Change the appearance of the buttons for language switching in admin mode.","zu-translate")},large:{label:h("Large custom button size","zu-translate"),help:h("Enlarge the size of the buttons (*for those who prefer more*).","zu-translate"),depends:"appearance"},list:{label:h('Add "Language Switcher" to post/pages list',"zu-translate"),help:h("Ability to switch language on a list of posts/pages and support for **Quick Edit**.","zu-translate")}},E={ls_frontend:{label:h("Swither on Front-End?","zu-translate"),help:h("???","zu-translate")},ls_menu:{label:h("Swither in Menu?","zu-translate"),help:h("The switcher should be added in menu to be displayed.","zu-translate")},ls_display:{label:h("Display in Menu","zu-translate"),help:h("How the language will be dispayed in menu","zu-translate")}},_={note:h("Only blocks **known to this plugin** will support language switching in the **Block Editor**.\nTo disable the block support - turn off the **checkbox** in front of the block name. You can also add other blocks - for this you need to know the **internal** name of the block (which includes the `namespace`) and the name of the attribute/attributes that contain the **content** of the block (*what requires translation*). You can learn these names by looking at the source code of the plugin/themes where these blocks are defined or by contacting the developer.\nUnfortunately, a *simpler* method has not yet been found.","zu-translate"),blockTitle:h("Supported blocks","zu-translate"),compress:h("Compress language data to reduce page size","zu-translate"),sync:{label:h("Synchronize language switching","zu-translate"),help:h("Switching a language in one block will lead to language switching in all editable blocks.","zu-translate")},session:{label:h("Support session language","zu-translate"),help:h("During one session, language switching on different pages will be synchronized.","zu-translate")},unsaved:{label:h("Switch without changes","zu-translate"),help:h("Do not consider language switching as **unsaved** changes for the current edit session.","zu-translate")},nobackups:{label:h('Remove Block Editor "backups"',"zu-translate"),help:h("Removes Wordpress *autosaves* and *backups* notices which could be very annoying.\nYou should understand what you are doing.","zu-translate")},custom:{nameLabel:h("Block name","zu-translate"),nameHelp:h("The block name must contain a **namespace** and a **slash**, for example, `core/quote`","zu-translate"),attsLabel:h("Attribute names","zu-translate"),attsInput:h("Enter the name of the attribute","zu-translate"),attsInputHelp:h("Usually the attribute has the name `content`, but it is not always so (see note above)","zu-translate"),addBlock:h("Add block","zu-translate")},resetAll:h("Reset Block Editor Settings","zu-translate"),errName:h("It does not look like a valid **block name**. Maybe you forgot the `namespace`? ","zu-translate"),errAtts:h("You need to specify at least one **attribute** for translation.","zu-translate"),errDups:h("Duplicates are not allowed. Are you mistaken in the name of the block?","zu-translate")},O,S={options:v,panels:{gutenberg:{value:!0,label:h("Block Editor Support","zu-translate"),depends:"gutenberg"},switcher:{value:!1,label:h("Language Switcher","zu-translate")}},switcher:E,gutenberg:_,inacive:!!w&&g(z,{br:!0,links:k})},A=lodash,R=A.isEmpty,j=A.castArray,C=A.get,T=A.has,x=A.map,D=A.mapKeys,B=A.join,N=A.split,P=A.compact,I=A.includes,L=A.without,H=A.pick,M=A.omit,q=A.keys,Y=wp.i18n.__,F=wp.components,U=F.Button,W=F.CheckboxControl,Z=wp.element,K=Z.useCallback,X=Z.useState,Q=wp.zukit.render.toggleOption,G=wp.zukit.components,J=G.ZukitDivider,V=G.ZukitPanel,ee=G.AdvTextControl,te=G.ListInputControl,ne=wp.zukit.utils,ae=ne.simpleMarkdown,re=ne.getExternalData,oe=ne.messageWithError,le=wp.zukit.jq.scrollTop,se="blockeditor",ie=re("supported",{}),ue=function e(o){var l=o.data,s=o.options,i=o.updateOptions,u=o.resetOptions,c=o.ajaxAction,p,d=o.noticeOperations.createNotice,h=C(s,se,{}),g=h.excluded,f=h.custom,y,w=a(X(""),2),k=w[0],z=w[1],v,E=a(X(""),2),_=E[0],O=E[1],S,A=a(X(ie),2),j=A[0],T=A[1],B=K((function(){u(se,(function(){return c("zutranslate_reset_supported",(function(e){T(e),le()}))}))}),[u,c]),N=K((function(e){var t=D(e,(function(e,t){return"".concat(se,".").concat(t)}));i(t)}),[i]),P=K((function(e,t){N(e?{excluded:L(g,t)}:{excluded:[].concat(r(g),[t])})}),[g,N]),Y=K((function(){var e=m(k,_,f),a=e.name,r=e.atts,o=e.error;null===o?(N({custom:t(t({},f),{},n({},a,{title:a,atts:r}))}),z(""),O("")):(d({status:"warning",content:oe(l[o.msg],o.value),isDismissible:!0,__unstableHTML:!0}),le())}),[f,k,_,N,d,l]),F=M(j,q(f)),Z=!R(f);return React.createElement(V,{id:"gutenberg",options:s,initialOpen:!0},Q(H(l,["sync","session","unsaved","nobackups"]),h,N),React.createElement("h3",{className:"__subtitle"},l.blockTitle),React.createElement("div",{className:"__supported"},x(F,(function(e,t){var n=e.title,a=e.atts;return React.createElement(W,{key:t,label:n,help:b(a),checked:!I(g,t),onChange:function e(n){return P(n,t)}})}))),Z&&React.createElement(React.Fragment,null,React.createElement(J,{bottomHalf:!0,size:2}),React.createElement("div",{className:"__supported"},x(f,(function(e,t){var n=e.title,a=e.atts;return React.createElement(W,{key:t,label:n,help:b(a),checked:!I(g,t),onChange:function e(n){return P(n,t)}})})))),React.createElement("div",{className:"__note"},ae(l.note,{br:!0})),React.createElement("div",{className:"__custom"},React.createElement(ee,{isSideBySide:!0,label:l.custom.nameLabel,help:ae(l.custom.nameHelp,{br:!0}),value:k,onChange:z,onKeyEnter:Y}),React.createElement(te,{isOpen:!0,isNotEmptyLabel:!0,isSideBySide:!0,strict:/^(?!\d)[\w$]+$/,label:l.custom.attsLabel,inputLabel:ae(l.custom.attsInput,{br:!0}),inputHelp:ae(l.custom.attsInputHelp,{br:!0}),value:_,onChange:O}),React.createElement(U,{isSecondary:!0,className:"__plugin_actions __auto green",label:l.custom.addBlock,icon:"plus-alt",onClick:Y},l.custom.addBlock)),React.createElement("div",{className:"__flex __right"},React.createElement(U,{isSecondary:!0,className:"__plugin_actions __auto magenta",label:l.resetAll,icon:"image-rotate",onClick:B},l.resetAll)))},ce=wp.zukit.render,pe=ce.renderPage,de=ce.toggleOption,be=wp.zukit.components.ZukitPanel,me=S.options,he=S.gutenberg,ge=S.inacive,fe=function e(t){var n=t.title,a=t.options,r=t.updateOptions,o=t.resetOptions,l=t.ajaxAction,s=t.noticeOperations;return ge?React.createElement("div",{className:"__note"},ge):React.createElement(React.Fragment,null,React.createElement(be,{title:n},de(me,a,r)),React.createElement(ue,{data:he,options:a,updateOptions:r,resetOptions:o,noticeOperations:s,ajaxAction:l}))};pe("zutranslate",{edit:fe,panels:S.panels})}();