var zutranslate_blocks=function(t){"use strict";function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i.apply(this,arguments)}function o(t,e){if(null==t)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],e.indexOf(i)>=0||(n[i]=t[i]);return n}function a(t,e){if(null==t)return{};var n=o(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u(t,e){return l(t)||f(t,e)||g(t,e)||h()}function s(t){return c(t)||d(t)||g(t)||v()}function c(t){if(Array.isArray(t))return p(t)}function l(t){if(Array.isArray(t))return t}function d(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function f(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r=[],i=!0,o=!1,a,u;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(t){o=!0,u=t}finally{try{i||null==n.return||n.return()}finally{if(o)throw u}}return r}}function g(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(t){return Ft.includes(ee,t)}function b(t){return Ft.castArray(Ft.get(te,[t,"atts"]))}function y(t,e){var n=b(t),r=Ft.reduce(n,(function(t,n){return t.push(Ft.get(e,n,"")),t}),[]);return[Ft.join(n,","),r]}function m(t){var e=arguments.length>0&&void 0!==t?t:null;return Ft.isNil(e)&&(e=ie()),Ft.reduce(e,(function(t,e){var n=ie(e),r=n.length?m(n):n;return[].concat(s(t),s(r))}),e)}function k(){return oe()?sessionStorage.getItem(ae):null}function E(t){if(oe())try{sessionStorage.setItem(ae,t)}catch(e){window.console.warn('Failed to store "'.concat(ae,'"=').concat(t," with sessionStorage"),e)}}function P(t){var e;return!(null==t||null===(e=t.current)||void 0===e||!e.raw)}function R(t,e){var n,r;return null!==(n=(De.isArray(t)?Ce(t):j(t))[e])&&void 0!==n?n:""}function S(t,e,n,i){var o=arguments.length>3&&void 0!==i&&i,a=C(),u=D(),s=A(e.length,!1);if(o){var c=De.split(o,u);return e.length!==c.length&&(o=W(t,e,u,o)),[o,{}]}var l=De.reduce(e,(function(t,e){return!1===t?!!_(e)&&e:t}),!1);if(l){var d=De.indexOf(e,l),f=De.split(null!=n?n:"",","),g=O(s,t,e,{del:L(l),separator:u,join:!1});return De.set(g,d,l),[De.join(g,u),r({},f[d],R(l,t))]}return[O(s,t,e,{del:a,separator:u}),{}]}function O(t,e,n,r){var i,o,a=arguments.length>3&&void 0!==r?r:null;if(void 0===e)return t;var u=null!==(i=De.get(a,"del"))&&void 0!==i?i:L(t),c=null!==(o=De.get(a,"separator"))&&void 0!==o?o:D(u),l=De.get(a,"join",!0),d=De.isArray(t)?t:De.split(t,c),f=De.reduce(d,(function(t,r,i){var o=j(r);if(void 0!==n[i]){o[e]=n[i];var a=De.map(o,(function(t,e){return q(u,e,t)}));t[i]=De.join([].concat(s(a),[q(u)]),"")}return t}),[]);return l?De.join(f,c):f}function x(t,e,n){var r=D(),i=De.split(t,r);if(n.length!==i.length){var o=W(e,n,r,t);return t!==o&&o}return!1}function I(t,e,n){var r=De.split(n,","),i=T(t);return De.reduce(r,(function(t,n,r){var o=R(i[r],e);return De.set(t,n,o),t}),{})}function _(t){if(!De.isString(t))return!1;var e=je(t);return(null==e?void 0:e.length)>1}function A(t,e){var n=!(arguments.length>1&&void 0!==e)||e,r=C(),i=D(r),o=j(""),a=De.map(o,(function(t,e){return q(r,e,t)})),u=De.join([].concat(s(a),[q(r)]),""),c=De.fill(De.range(0,t),u);return n?De.join(c,i):c}function T(t){var e,n=D(L(t));return De.split(t,n)}function j(t){return De.isString(t)?We(t):[]}function W(t,e,n,r){var i=A(e.length);return De.forEach(e,(function(o,a){if(""!==o&&void 0!==o)if(De.includes(r,o)){var u=De.split(i,n);u[a]=r,i=De.join(u,n)}else i=O(i,t,e,{separator:n})})),i}function C(){return L()}function D(t){return q(null!=t?t:C(),null,null,!0)}function z(t){var e=String(t),n=Math.floor(e.length/2);return[e.substr(0,n).trim(),e.substr(n).trim()]}function L(t){var e=z(ze[0]);return De.isString(t)&&De.forEach(ze,(function(n){var r=z(n),i;if(null!==new RegExp(q(r),"gi").exec(t))return e=r,!1})),e}function q(t,e,n,r){var i=arguments.length>1&&void 0!==e?e:null,o=arguments.length>2&&void 0!==n?n:null,a=arguments.length>3&&void 0!==r&&r;return"".concat(t[0]).concat(a?",":":").concat(null!=i?i:"").concat(t[1]).concat(null!=o?o:"")}function H(t,e){var i=arguments.length>0&&void 0!==t?t:en,o=arguments.length>1?e:void 0,a=o.type,u=o.key,c=o.value,l=He(i,u,""),d=He(i,"lang",""),f=i,g=null;switch(a){case Ke:f=n(n({},i),{},r({},u,c));break;case Je:g=O(l,d,[c]),f=n(n({},i),{},r({},u,g));break;case Ve:f=n(n({},i),{},{lang:c});break;case Qe:f=n(n({},i),{},{hooks:n(n({},i.hooks),{},r({},u,c))});break;case Xe:f=n(n({},i),{},{hooks:Ne(i.hooks,u)});break;case Ye:f=n(n({},i),{},{watched:[].concat(s(i.watched),[c])});break;case tn:f=n(n({},i),{},{watched:Be(i.watched,c)});break}var p=!qe(i,f);return $e.data({type:a,key:u,value:c,prev:i,state:p?f:"=prev"},p?"effective change":"same as the previous"),p?f:i}function N(){return fn(Fe).getWatched()}function B(t,e){var n=arguments.length>1&&void 0!==e&&e,r=gn(Fe),i=r.addWatched;wn.infoWithId(t,"-#{+Component added}".concat(n?" [originator]":"")),i(t)}function M(t){var e,n=gn(Fe).removeWatched,r=N().length-1;wn.infoWithId(t,"-".concat(r<0?"!":"#","{*Component will be removed}, remained in the list [").concat(r,"]")),n(t)}function G(){return fn(Fe).getHooks()}function U(){return gn(Fe).refresh()}function Z(t,e){var n=arguments.length>0&&void 0!==t?t:bn,r=arguments.length>1&&void 0!==e&&e;if(V("before",vn,r),r||B(n,!0),vn){var i=G();sn(i,(function(t,e){e!==n&&(B(e),t())}))}V("after",vn)}function F(t){var e=arguments.length>0&&void 0!==t?t:bn,n=N();cn(n,e)?M(e):U()}function V(t,e,n){var r=arguments.length>1&&void 0!==e&&e,i=arguments.length>2&&void 0!==n&&n,o=yn.isPostDirty,a=yn.isPostPublished,u=yn.shouldResetEdits;hn&&a&&("before"!==t||o||(yn.shouldResetEdits=!0),"after"===t&&u&&(yn.isTracking=!0)),K(t,r,i)}function K(t,e,n){var r=yn.isPostDirty,i=yn.isPostPublished,o=yn.isTracking,a=yn.shouldResetEdits,u="before"===t,s=!(hn&&i),c=ln("reset is {%s}",o?a?"*enabled":"disabled":"!not tracked"),l=ln('clean "unsaved" is {%s}',i?"disabled":"!not possible"),d=ln("-%1$s{%2$s} Sync Blocks [sync %3$s%4$s] - Post [%5$s] and is {%6$s}%7$s%8$s","#",u?"?initiated":"*completed",e?"enabled":n?"single mode":"disabled",n?", without originator":"",i?"published":"not published",r?"!dirty":"*clean",u?', "Hooks" count ['.concat(un(G()).length,"]"):"",!u&&r?", ".concat(s?l:c):"");wn.info(d)}function J(){return An(Fe).getLang()}function Q(t){return An(Fe).getRaw(t)}function X(t,e){var n,r;(0,Tn(Fe).setRaw)(t,e)}function Y(t,e){var n,r;(0,Tn(Fe).updateRaw)(t,e)}function tt(t,e){var n=An(Fe).getHooks();Sn(n,t)||Tn(Fe).setHook(t,e)}function et(t){Tn(Fe).removeHook(t)}function nt(t){var e,n=Tn(Fe).setLang,r;t!==J()&&(Cn&&E(t),n(t))}function rt(t,e,n){var r=J(),i=xn(null!=n?n:r);return In((function(){var n=void 0!==i&&i!==r;zn.infoWithId(t,"-^on lang change : {".concat(n?"*will switch":"#will skip","}"),{prev:i,editorLang:r}),n&&e(r),F(t)}),[i,r,t,e]),r}function it(t,e){In((function(){return tt(t,e),function(){return et(t)}}),[])}function ot(t,e){var n="".concat(t,"_raw");gr||(gr={});var i=at([t,n]);return st(r({},t,Gn(i,t))),Un(gr,[t,"listener"],e),gr.isReady=Zn(Ze,(function(t){return Fn(gr,t)})),gr.isReady&&fr.info("-^{+ready} Edited Attributes",gr),Gn(i,n)}function at(t){var e=arguments.length>0&&void 0!==t?t:null,n=rr(),r=ir(),i=ur("postType",n,r);return Mn(i,null!=e?e:Ze)}function ut(t){if(Nn(t))fr.info("-^{#not updated} - Entity Attributes",t);else{fr.info("-^{updated} - Entity Attributes",t);var e=rr(),n=ir();st(t),cr("postType",e,n,t)}F()}function st(t,e){var n=arguments.length>1&&void 0!==e&&e;$n(t,(function(t,e){n||Un(gr,[e,"value"],t),Un(gr,["prevEdits",e],t)}))}function ct(t){$n(t,(function(t,e){var n=gr[e].listener;Un(gr,[e,"value"],t),n(e,t),fr.info("-^updated RAW for is ".concat(e," - [").concat(t,"]"))}))}function lt(t){var e,n=gr.prevEdits,r=Bn(t).length!==Bn(n).length?at():{},i=Vn(n,(function(e,n,i){var o,a=null!==(o=t[i])&&void 0!==o?o:r[i];return a!==n&&(e[i]=a),e}),{}),o=Bn(i).length>0;return o&&st(i,!0),o?i:null}function dt(){return gr&&gr.isReady}function ft(){return 0===N().length}function gt(t,e){var n=arguments.length>0&&void 0!==t?t:null,r=arguments.length>1&&void 0!==e?e:null,i=null!=n?n:rr(),o=null!=r?r:ir();return ar("postType",i,o)}function pt(){if(dt()){var t,e=lt(Mn(gt(),Ze));return e?[!0,e]:[!1]}return[!1]}function vt(){var t=gt();fr.info("-#{?reset} edits",Bn(t)),Nn(t)||(ht(t),yn.shouldResetEdits=!1)}function ht(t){var e=rr(),r=ir(),i=ur("postType",e,r),o=null!=t?t:gt(e,r),a=n({id:r},o);fr.info("-?emulate {Saving Post} [".concat(r,"]"),o),lr("postType",e,i,void 0,!0,a)}function wt(){if(dr){var t=yn.isPostPublished,e=yn.isPostDirty,n=yn.shouldResetEdits,r=[Kn("-#Post [%s] and editing state is {%s}",t?"published":"not published",e?"!dirty":"*clean")];!n&&r.push(Bn(gt())),fr.info.apply(fr,r)}}function bt(t,e,n,r){function i(){r?mt(o,n):kt(o,n)}var o=t?Rt([t,e]):e,a=Pt(t);if(a){var u=new vr(i);u.observe(a,{childList:!0,subtree:!0}),Ot(u,t?[t,e]:e,r)}i()}function yt(t,e,n){bt(t,e,n,!0)}function mt(t,e){var n,r=u(St(t),2),i=r[0],o=r[1],a;Pt(i).querySelectorAll(o).forEach((function(t){t.ready||(t.ready=!0,e(t))}))}function kt(t,e){var n,r=u(St(t),2),i=r[0],o=r[1],a;null===Pt(i).querySelector(o)&&(e([i,o]),xt([i,o],!1))}function Et(t,e){return null!=t&&br.call(t,e)}function Pt(t){var e;return t&&null!==(e=hr.querySelector(t))&&void 0!==e?e:hr}function Rt(t){return Array.isArray(t)?t.join(wr):t}function St(t){var e=Array.isArray(t)?t:String(t).split(wr);return e.length<2?[null,e[0]]:e}function Ot(t,e,n){var r=n?pr.inserted:pr.removed,i=Rt(e);Et(r,i)&&xt(i,n),r[i]=t}function xt(t,e){var n=e?pr.inserted:pr.removed,r=Rt(t),i=n[r];i&&(i.disconnect(),delete n[r])}function It(){mr(Rr,(function(t,e){var n,r=u(kr(t)?[null,t]:t,2),i,o;_t(e,r[0],r[1])}))}function _t(t,e,n){yt(e,n,(function(e){var n=!1,r=e.innerHTML;if(_(r)){var i,o=R(r,J());e.innerHTML=null!=o?o:r,n=!0}Pr.info('-^node {?inserted} for "{'.concat(t,'}" - RAW {').concat(n?"*replaced":"!not found","}"))}))}function At(t){var e=arguments.length>0&&void 0!==t?t:null,n=void 0===Q("title");if(Or(Ze,(function(t){var e=Q(t);void 0===e&&(e=ot(t,Y),Tr.info("-^{?init} RAW for [".concat(t,"]"),e),"title"===t&&"Auto Draft"===e&&(e=""),X(t,e))})),n){var r=!1,i=J();_r&&e&&(Tr.info("-^{#lang check} session/editor [".concat(_r,"/").concat(i,"]")),_r!==i&&(e(_r),r=!0)),r||e(i,!0),It()}}function Tt(t,e){var n=arguments.length>1&&void 0!==e?e:null,r=null!=t?t:J(),i=at(null===n?null:xr(n)),o={};Or(i,(function(t,e){var n=Q(e);if(void 0!==n){var i=R(n,r);t!==i&&(o[e]=i,Tr.info("-^{switch} RAW [".concat(e,"] for lang {").concat(r,"}"),i))}})),ut(o)}function jt(t){tt(t,Tt)}function Wt(t,e){return ai(t.attributes)||w(e)&&(si(t,"attributes.qtxRaw")||(t.attributes=ui({},t.attributes,{qtxRaw:{type:"string"},qtxLang:{type:"string"}}))),t}function Ct(){Zubug.info("initExplorer");var t=Ri((function(){var e=Ti(),n=Ii();if(e&&null===Hi.blocks&&(Ht(n,{postId:e,isPublished:_i()}),Hi.isDirty=n),e&&di(Hi.blocks)&&(Hi.blocks=Wi(),!di(Hi.blocks))){var r,i=Lt().edits;Hi.edits=i,t()}}))}function Dt(){Zubug.info("runExplorer"),Ri((function(){if(Ii()){var t={},e=Wi();if(Hi.blocks!==e){var n={};pi(e,(function(t,e){var r=Hi.blocks[e];if(t!==r){var i=qt(t,r);if(ki(i.updated,"attributes")){var o=qt(t.attributes,r.attributes),a=[].concat(s(o.updated),s(o.added),s(o.removed));n[t.clientId]={name:t.name,changed:i,attributes:o,picked:a,was:bi(r.attributes,a),now:bi(t.attributes,a)}}else n[t.clientId]={name:t.name,changed:i}}})),t.blocks=n,Hi.blocks=e}var r=Lt(),i=r.edits,o=r.entity,a=mi(Hi.edits,i);fi(Hi.edits,i)||(pi(yi({},i,a),(function(e){var n;"content"!==e&&hi(t,["edits",e],null!==(n=o[e])&&void 0!==n?n:"?")})),Hi.edits=i),di(t)||Ht(!0,t),Hi.isDirty=!0}else Hi.isDirty&&(Hi.isDirty=!1,Ht(!1,{postId:Ti(),isPublished:_i()}))}))}function zt(){Zubug.info("watchSavingPost"),Ri((function(){Hi.postSaved&&xi()?(Hi.postSaved=!1,qi.logGroup("{+Saving Post...}",Lt())):Hi.postSaved||(qi.info("{*Post Saved}"),Hi.postSaved=!0)}))}function Lt(t,e){var n=arguments.length>0&&void 0!==t?t:null,r=arguments.length>1&&void 0!==e?e:null,i=null!=n?n:Ai(),o=null!=r?r:Ti();return{edits:wi(Di("postType",i,o)),entity:zi("postType",i,o)}}function qt(t,e){var n=[];pi(t,(function(t,r){e&&e[r]!==t&&n.push(r)}));var r=wi(t),i=wi(e),o=mi(r,i),a=mi(i,r);return{updated:mi(n,o),added:o,removed:a}}function Ht(t,e){if(Li){var n=e.isPublished,r=e.postId,i=e.blocks,o=e.edits;if(r)qi.info(Ei("-%sPost #%d [%s] and editing state is {%s}",t?"!":"*",r,n?"published":"not published",t?"dirty":"clean"));else{var a=wi(o),u=wi(i);(a.length||u.length)&&qi.logGroup("!Post is {dirty} - {?see details}"),pi(o,(function(t,e){var n;Nt("+".concat(e),"entity","updated",t)})),pi(i,(function(t,e){var n=t.name,r=t.changed,i=t.attributes,o=t.picked,a=t.was,u=t.now,s="+".concat(n," : ").concat(qi.shortenId(e));s=Nt(s,"props","updated",r),s=Nt(s,"props","added",r),s=Nt(s,"props","removed",r),i&&(Nt(s,"attributes","updated",i),Nt(s,"attributes","added",i),Nt(s,"attributes","removed",i),(a||u)&&Bt(s,o,a,u))})),qi.logGroup("<")}}}function Nt(t,e,n,r){var i=vi(r,n,r);return di(i)?t:(qi.logGroup(t,Ei("%s %s [%s]",n,e,gi(i)?i.join(", "):i)),t.startsWith("-")?t:t.replace(/^[+]/,"-"))}function Bt(t,e,n,r){var i=1===e.length,o=i?e[0]:e.join(", ");i?qi.logGroup(t,["[".concat(o,"]"),"  {+was}  ",n[o],"  {*now}  ",r[o]]):(qi.logGroup(t,["[".concat(o,"]"),"  {+values were}  ",n]),qi.logGroup(t,["[".concat(o,"]"),"  {*values are now}  ",r]))}function Mt(t){var e=arguments.length>0&&void 0!==t?t:"ZUKIT",n="resetAutosave";if(!Bi(wp,["zukit",n])){Mi(wp,["zukit",n],!0);var r=$i((function(){var t=Vi();t&&(i(t),r())})),i=function t(n){if(Ji()){var r=Ki(),i=Ut(n,r);if(!i)return;try{i=JSON.parse(i)}catch(t){return}$t(n,r),window.console.warn("".concat(e.toUpperCase(),": The backup of the post [").concat(n,"] in your browser was removed"))}}}}function Gt(t,e){return"wp-autosave-block-editor-post-".concat(e?"auto-draft":t)}function Ut(t,e){return window.sessionStorage.getItem(Gt(t,e))}function $t(t,e){window.sessionStorage.removeItem(Gt(t,e))}function Zt(){[Gr].forEach((function(t){if(t){var e=t.name,n=t.settings;Yi(e,Xi(n,{icon:!1}))}}))}var Ft=lodash,Vt=wp.data.select,Kt=wp.zukit.utils,Jt=Kt.externalData,Qt=Kt.getExternalData,Xt=Kt.mergeClasses,Yt=Kt.emptyGif;Kt.toJSON,Kt.simpleMarkdown,Jt("zutranslate_blocks_data");var te=Qt("supported",{}),ee=Ft.keys(te);window.Zubug=n({},wp.zukit.debug||{});var ne=function t(e){return e?Zubug:Ft.transform(Ft.keys(Zubug),(function(t,e){return t[e]=Ft.noop}),{})},re,ie=Vt("core/block-editor").getBlockOrder,oe=Ft.once((function(){try{return window.sessionStorage.setItem("__zuTranslateTestSessionStorage",""),window.sessionStorage.removeItem("__zuTranslateTestSessionStorage"),!0}catch(t){return!1}})),ae="qtranslate-xt-admin-edit-language",ue,se={slot:"setting",name:"zu-language",title:(0,wp.i18n.__)("Language","zu-translate")},ce=["title","lang","onClick","withPanel"],le=lodash,de=le.map,fe=le.pick,ge=wp.i18n.__,pe=wp.components,ve=pe.PanelBody,he=pe.Path,we=pe.SVG,be=wp.element.useCallback,ye=wp.zukit.components,me=ye.SelectItemControl,ke=ye.TitleIndicator,Ee=Qt("config",[]),Pe=Qt("location",[]),Re=de(Ee,(function(t,e){return{value:e,label:t.name,flag:t.flag}})),Se=Qt("flags",!1),Oe="components-zu-lang-control",xe=React.createElement(we,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},React.createElement(he,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"})),Ie=function t(e){var n=e.title,r=e.lang,i=e.colored;return React.createElement(ke,{title:null!=n?n:ge("Language","zu-translate"),value:r,colored:i})},_e=function t(e){var n=e.title,r=e.lang,o=e.onClick,u=e.withPanel,s=a(e,ce),c=be((function(t,e,n,i){return React.createElement("span",{className:Xt("__lang",{"__with-flags":Se}),style:n},Se&&React.createElement("img",{className:"__flag",src:i.flag?Pe+i.flag:Yt}),e,r===t?xe:null)}),[r]),l=React.createElement(me,{className:Oe,options:Re,selectedItem:r,onClick:o,transformValue:c});if(u){var d=React.createElement(Ie,{title:n,lang:r}),f=fe(s,["buttonProps","className","icon","opened","scrollAfterOpen","initialOpen","onToggle"]);return React.createElement(ve,i({title:d},f),l)}return l};_e.Panel=function(t){return React.createElement(_e,i({withPanel:!0},t))},_e.Indicator=Ie;var Ae=Qt("format",""),Te=Qt("config",[]),je=function t(e){var n="(\x3c!--:lang--\x3e|\x3c!--:--\x3e|\\[:lang]|\\[:]|{:lang}|{:})".replace(/lang/g,Ae),r=new RegExp(n,"gi");if(3==="a~b".split(/(~)/).length)return e.split(r);for(var i=0,o=[],a;null!=(a=r.exec(e));)o.push(e.slice(i,a.index)),a.length>1&&o.push(a[1]),i=r.lastIndex;return i<e.length&&o.push(e.slice(i)),i===e.length&&o.push(""),o},We=function t(e){var n=je(e);return Ce(n)},Ce=function t(e){var n=new Object;for(var r in Te)n[r]="";if(!e||!e.length)return n;if(1===e.length){var i=e[0];for(var o in Te)n[o]+=i;return n}for(var a=new RegExp("\x3c!--:(lang)--\x3e".replace(/lang/g,Ae),"gi"),u=new RegExp("\\[:(lang)]".replace(/lang/g,Ae),"gi"),s=new RegExp("{:(lang)}".replace(/lang/g,Ae),"gi"),c=!1,l,d=0;d<e.length;++d){var f=e[d];if(f.length)if(l=a.exec(f),a.lastIndex=0,null==l)if(l=u.exec(f),u.lastIndex=0,null==l)if(l=s.exec(f),s.lastIndex=0,null==l)if("\x3c!--:--\x3e"!==f&&"[:]"!==f&&"{:}"!==f)if(c)n[c]?n[c]+=f:n[c]=f,c=!1;else for(var g in n)n[g]+=f;else c=!1;else c=l[1];else c=l[1];else c=l[1]}return n},De=lodash,ze=["[]","{}","\x3c!-- --\x3e"],Le=lodash,qe=Le.isEqual,He=Le.get,Ne=Le.omit,Be=Le.without,Me=wp.data.registerStore,Ge=Qt("lang","en"),Ue,$e=ne(Qt("debug.raw_store",!1)),Ze=["title","excerpt"],Fe="zutranslate/core",Ve="SET_LANG",Ke="SET_RAW",Je="UPDATE_RAW",Qe="SET_HOOK",Xe="REMOVE_HOOK",Ye="WATCH",tn="UNWATCH",en={lang:Ge,hooks:{},watched:[]},nn,rn,on=Me(Fe,{reducer:H,actions:{setRaw:function t(e,n){return{type:Ke,key:e,value:n}},updateRaw:function t(e,n){return{type:Je,key:e,value:n}},setLang:function t(e){return{type:Ve,value:e}},setHook:function t(e,n){return{type:Qe,key:e,value:n}},removeHook:function t(e){return{type:Xe,key:e}},addWatched:function t(e){return{type:Ye,value:e}},removeWatched:function t(e){return{type:tn,value:e}},refresh:function t(){return{type:"refresh"}}},selectors:{getRaw:function t(e,n){return He(e,n)},getLang:function t(e){return He(e,"lang")},getHooks:function t(e){return He(e,"hooks")},getWatched:function t(e){return He(e,"watched")}},controls:{}}).subscribe,an=lodash,un=an.keys,sn=an.forEach,cn=an.includes,ln=wp.i18n.sprintf,dn=wp.data,fn=dn.select,gn=dn.dispatch,pn=Qt("debug.sync_blocks",!1),vn=Qt("sync",!1),hn=Qt("unsaved",!1),wn=ne(pn),bn="rawRoot",yn={isPostDirty:!1,isPostPublished:!1,isTracking:!1,shouldResetEdits:!1},mn=lodash,kn=mn.keys,En=mn.forEach,Pn=mn.includes,Rn=mn.some,Sn=mn.has,On=mn.set,xn=wp.compose.usePrevious,In=wp.element.useEffect,_n=wp.data,An=_n.select,Tn=_n.dispatch,jn,Wn=wp.apiFetch,Cn=Qt("session",!1),Dn,zn=ne(Qt("debug.raw_helpers",!1)),Ln,qn=An("core/editor").isSavingPost;Wn.use((function(t,e){if(qn()&&Pn(["PUT","POST"],t.method)){var r=t.data,i=n(n({},t),{},{data:n(n({},r),{},{editor_lang:J()})});return Rn(kn(r),(function(t){return Pn(Ze,t)}))&&En(Ze,(function(t){if(Sn(r,t)){var e=Q(t);On(i,["data",t],e)}})),zn.data({newOptions:i}),e(i)}return e(t)}));var Hn=lodash,Nn=Hn.isEmpty,Bn=Hn.keys,Mn=Hn.pick,Gn=Hn.get,Un=Hn.set,$n=Hn.forEach,Zn=Hn.every,Fn=Hn.has,Vn=Hn.reduce,Kn=wp.i18n.sprintf,Jn=wp.data,Qn=Jn.subscribe,Xn=Jn.select,Yn=Jn.dispatch,tr=Xn("core/editor"),er=tr.isEditedPostDirty,nr=tr.isCurrentPostPublished,rr=tr.getCurrentPostType,ir=tr.getCurrentPostId,or=Xn("core"),ar=or.getEntityRecordNonTransientEdits,ur=or.getEditedEntityRecord,sr=Yn("core"),cr=sr.editEntityRecord,lr=sr.receiveEntityRecords,dr=Qt("debug.edited_entity",!1),fr=ne(dr),gr=null;Qn((function(){nr()&&!yn.isPostPublished&&(yn.isPostPublished=!0),er()?yn.isPostDirty||(yn.isPostDirty=!0,wt()):yn.isPostDirty&&(yn.isPostDirty=!1,wt());var t,e=u(pt(),2),n=e[0],r=e[1];n&&(fr.info("#{test} edits",r),ct(r))})),on((function(){yn.isTracking&&ft()&&(yn.isTracking=!1,fr.info("-#RAW store tracking is {*completed}",yn),vt())}));var pr={inserted:{},removed:{}},vr=window.MutationObserver||window.WebKitMutationObserver,hr=window.document,wr="@",br=Object.prototype.hasOwnProperty,yr=lodash,mr=yr.forEach,kr=yr.isString,Er,Pr=ne(Qt("debug.raw_helpers",!1)),Rr={sitename:[".interface-interface-skeleton__actions",".editor-post-publish-panel__prepublish .components-site-name"]},Sr=lodash,Or=Sr.forEach,xr=Sr.castArray,Ir,_r=Qt("session",!1)?k():null,Ar,Tr=ne(Qt("debug.raw_helpers",!1)),jr=wp.element,Wr=jr.useCallback,Cr=jr.useEffect;wp.components.Button;var Dr=wp.zukit.plugins.withPlugin,zr=wp.zukit.data.useForceUpdater,Lr=function t(e){var n=e.forceUpdate,r=zr(),i=rt(bn,Tt),o=Wr((function(t,e){nt(t),r(),n(),Z(bn,e)}),[]);Cr((function(){jt(bn),At(o)}),[]);var a=!1;return React.createElement(React.Fragment,null,React.createElement(_e,{lang:i,onClick:o}),a)},qr,Hr=Dr(n(n({},se),{},{title:_e.Indicator,titleProps:function t(){return{lang:J()}}}))(Lr),Nr=se.name,Br,Mr={title:se.title,render:Hr},Gr=Object.freeze({__proto__:null,metadata:se,name:Nr,settings:Mr}),Ur,$r=lodash.includes,Zr=wp.compose.createHigherOrderComponent,Fr=wp.blockEditor.InspectorControls,Vr=wp.element,Kr=Vr.useEffect,Jr=Vr.useCallback,Qr=Vr.useRef,Xr=Vr.useMemo,Yr=wp.zukit.data.useForceUpdater,ti=Qt("sync",!1),ei,ni=ne(Qt("debug.edit_lang",!1)),ri=function t(e){var r=e.name,i=e.clientId,o=e.setAttributes,a=e.attributes,c=a.qtxRaw,l=a.qtxLang,d=Qr(null);null===d.current&&(d.current={raw:c,id:i},ni.infoWithId(i,"-?Initiated with language {".concat(l,"}")));var f,g=u(y(r,a),2),p=g[0],v=g[1],h=Jr((function(t,e){var r=arguments.length>1&&void 0!==e&&e;if(ti||r){var i=d.current,a=i.raw,u=i.id;if(t!==r){var s=I(a,t,p);ni.infoWithId(u,"-^{+switching} RAW [".concat(p,"] for lang {").concat(t,"}"),s),o(n({qtxLang:t},s))}else ni.infoWithId(u,"-^{#skip switching} RAW [".concat(p,"]"),{lang:t,prevLang:r,activateSync:ti});F(u)}}),[p,o]),w=Yr(),b=rt(i,h,l);it(i,w);var m=Jr((function(t){var e=d.current.id;ti?(nt(t),w(),Z(e)):(Z(e,!0),h(t,l)),ni.infoWithId(e,"-^Language switched [".concat(l," -> ").concat(t,"]"))}),[w,h,l]);return Kr((function(){if(P(d)){var t=d.current,e=t.raw,r=t.id,i=x(e,b,v),a=!1!==i;ni.infoWithId(r,"-^Raw {".concat(a?"!fixed":"*existed","} on mounting"),{raw:e,fixedRaw:a?i:null,translatedValues:v,translatedAtts:p}),!1!==i&&(d.current.raw=i)}else{var s,c=u(S(b,v,p),2),f=c[0],g=c[1];d.current.raw=f,o(n({qtxLang:b,qtxRaw:f},g)),ni.infoWithId(d.current.id,"-?Raw {created} on mounting",{qtxLang:l,raw:f,update:g,translatedValues:v,translatedAtts:p})}}),[]),Kr((function(){if(P(d)){var t=d.current.raw,e=O(t,l,v);e!==t&&(d.current.raw=e,o({qtxRaw:e}),ni.infoWithId(d.current.id,"-^Raw {updated}",{updatedRaw:e,translatedValues:v}))}}),[].concat(s(v),[l,o])),Xr((function(){return React.createElement(Fr,null,React.createElement(_e.Panel,{lang:l,onClick:m}))}),[l,m])},ii=Zr((function(t){return function(e){var n=e.name,r=e.clientId,i=m(),o=$r(i,r);return o?ni.infoWithId(r,"-^Block [".concat(n,"] is editable and {").concat(w(n)?"*is":"!is not"," supported}")):ni.infoWithId(r,"-^Block [".concat(n,"] was skipped"),{editableBlocks:i}),React.createElement(React.Fragment,null,React.createElement(t,e),w(n)&&o&&React.createElement(ri,e))}}),"withRawEditControl"),oi=lodash,ai=oi.isNil,ui=oi.assign,si=oi.has,ci=wp.hooks.addFilter;ci("blocks.registerBlockType","zu/translate",Wt),ci("editor.BlockEdit","zu/translate",ii);var li=lodash,di=li.isEmpty,fi=li.isEqual,gi=li.isArray,pi=li.forEach,vi=li.get,hi=li.set,wi=li.keys,bi=li.pick,yi=li.merge,mi=li.difference,ki=li.includes,Ei=wp.i18n.sprintf,Pi=wp.data,Ri=Pi.subscribe,Si=Pi.select,Oi=Si("core/editor"),xi=Oi.isSavingPost,Ii=Oi.isEditedPostDirty,_i=Oi.isCurrentPostPublished,Ai=Oi.getCurrentPostType,Ti=Oi.getCurrentPostId,ji,Wi=Si("core/block-editor").getBlocks,Ci=Si("core"),Di=Ci.getEntityRecordNonTransientEdits,zi=Ci.getEditedEntityRecord,Li=Qt("debug.explorer",!1),qi=ne(Li),Hi={isDirty:null,blocks:null,edits:null,postSaved:!0};Li&&(Ct(),Dt(),zt());var Ni=lodash,Bi=Ni.get,Mi=Ni.set,Gi=Ni.once,Ui=wp.data,$i=Ui.subscribe,Zi,Fi=(0,Ui.select)("core/editor"),Vi=Fi.getCurrentPostId,Ki=Fi.isEditedPostNew,Ji=Gi((function(){try{return window.sessionStorage.setItem("__wpEditorTestSessionStorage",""),window.sessionStorage.removeItem("__wpEditorTestSessionStorage"),!0}catch(t){return!1}})),Qi,Xi=lodash.defaults,Yi=wp.plugins.registerPlugin;return Qt("nobackups",!1)&&Mt("Zu Translate"),Zt(),t.registerPlugins=Zt,Object.defineProperty(t,"__esModule",{value:!0}),t}({});